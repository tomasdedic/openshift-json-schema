{
  "description": "BackupSchedule is the Schema for the backup schedules API",
  "type": "object",
  "properties": {
    "apiVersion": {
      "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
      "type": [
        "string",
        "null"
      ],
      "enum": [
        "cluster.open-cluster-management.io/v1beta1"
      ]
    },
    "kind": {
      "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
      "type": [
        "string",
        "null"
      ],
      "enum": [
        "BackupSchedule"
      ]
    },
    "metadata": {
      "description": "Standard object's metadata. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata",
      "$ref": "_definitions.json#/definitions/io.k8s.apimachinery.pkg.apis.meta.v1.ObjectMeta"
    },
    "spec": {
      "description": "BackupScheduleSpec defines the desired state of BackupSchedule",
      "type": [
        "object",
        "null"
      ],
      "required": [
        "veleroSchedule"
      ],
      "properties": {
        "managedServiceAccountTTL": {
          "description": "Used in combination with the UseManagedServiceAccount property When UseManagedServiceAccount is set to true, defines the TTL for the generated token If not defined and UseManagedServiceAccount is set to true, it defaults to a value using veleroTTL",
          "type": [
            "string",
            "null"
          ]
        },
        "noBackupOnStart": {
          "description": "If not defined, the value is set to false. Set this to true if you don't want to have backups created immediately after the velero schedules are created Keep in mind that if you choose not to create ACM backups immediately after the schedules are generated the validation policy will show a violation until backups are generated as defined by the cron job. Also, if backups are not generated immediately, the BackupSchedule will always get into a BackupCollision state during reconcile, if another hub had generated backups to the same storage location. Reconcile will find the ACM backups with newer timestamp and generated by another hub so it will assume another hub currently writes data to the same storage location.",
          "type": [
            "boolean",
            "null"
          ]
        },
        "useManagedServiceAccount": {
          "description": "Set this to true if you want to use the ManagedServiceAccount token to auto connect imported clusters on the restored hub. For this option to work, the user must first enable the managedserviceaccount component on the MultiClusterHub If not defined, the value is set to false. If this option is set to true, the backup controller will create ManagedServiceAccount for each managed cluster connected on the primary hub using the import cluster option see https://github.com/stolostron/managed-serviceaccount#what-is-managed-service-account The token generated by the ManagedServiceAccount will have a TTL defaulted using the backup veleroTTL option When set to false, all ManagedServiceAccounts created by the backup controller are being removed",
          "type": [
            "boolean",
            "null"
          ]
        },
        "veleroSchedule": {
          "description": "Schedule is a Cron expression defining when to run the Velero Backup",
          "type": "string"
        },
        "veleroTtl": {
          "description": "TTL is a time.Duration-parseable string describing how long the Velero Backup should be retained for. If not specified the maximum default value set by velero is used - 720h",
          "type": [
            "string",
            "null"
          ]
        }
      },
      "additionalProperties": false
    },
    "status": {
      "description": "BackupScheduleStatus defines the observed state of BackupSchedule",
      "type": [
        "object",
        "null"
      ],
      "properties": {
        "lastMessage": {
          "description": "Message on the last operation",
          "type": [
            "string",
            "null"
          ]
        },
        "phase": {
          "description": "Phase is the current phase of the schedule",
          "type": [
            "string",
            "null"
          ]
        },
        "veleroScheduleCredentials": {
          "description": "Velero Schedule for backing up credentials",
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "apiVersion": {
              "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
              "type": [
                "string",
                "null"
              ]
            },
            "kind": {
              "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
              "type": [
                "string",
                "null"
              ]
            },
            "metadata": {
              "type": [
                "object",
                "null"
              ]
            },
            "spec": {
              "description": "ScheduleSpec defines the specification for a Velero schedule",
              "type": [
                "object",
                "null"
              ],
              "required": [
                "schedule",
                "template"
              ],
              "properties": {
                "schedule": {
                  "description": "Schedule is a Cron expression defining when to run the Backup.",
                  "type": "string"
                },
                "template": {
                  "description": "Template is the definition of the Backup to be run on the provided schedule",
                  "type": "object",
                  "properties": {
                    "defaultVolumesToRestic": {
                      "description": "DefaultVolumesToRestic specifies whether restic should be used to take a backup of all pod volumes by default.",
                      "type": [
                        "boolean",
                        "null"
                      ]
                    },
                    "excludedNamespaces": {
                      "description": "ExcludedNamespaces contains a list of namespaces that are not included in the backup."
                    },
                    "excludedResources": {
                      "description": "ExcludedResources is a slice of resource names that are not included in the backup."
                    },
                    "hooks": {
                      "description": "Hooks represent custom behaviors that should be executed at different phases of the backup.",
                      "type": [
                        "object",
                        "null"
                      ],
                      "properties": {
                        "resources": {
                          "description": "Resources are hooks that should be executed when backing up individual instances of a resource."
                        }
                      },
                      "additionalProperties": false
                    },
                    "includeClusterResources": {
                      "description": "IncludeClusterResources specifies whether cluster-scoped resources should be included for consideration in the backup."
                    },
                    "includedNamespaces": {
                      "description": "IncludedNamespaces is a slice of namespace names to include objects from. If empty, all namespaces are included."
                    },
                    "includedResources": {
                      "description": "IncludedResources is a slice of resource names to include in the backup. If empty, all resources are included."
                    },
                    "labelSelector": {
                      "description": "LabelSelector is a metav1.LabelSelector to filter with when adding individual objects to the backup. If empty or nil, all objects are included. Optional."
                    },
                    "metadata": {
                      "type": [
                        "object",
                        "null"
                      ],
                      "properties": {
                        "labels": {
                          "type": [
                            "object",
                            "null"
                          ],
                          "additionalProperties": {
                            "type": [
                              "string",
                              "null"
                            ]
                          }
                        }
                      },
                      "additionalProperties": false
                    },
                    "orLabelSelectors": {
                      "description": "OrLabelSelectors is list of metav1.LabelSelector to filter with when adding individual objects to the backup. If multiple provided they will be joined by the OR operator. LabelSelector as well as OrLabelSelectors cannot co-exist in backup request, only one of them can be used."
                    },
                    "orderedResources": {
                      "description": "OrderedResources specifies the backup order of resources of specific Kind. The map key is the Kind name and value is a list of resource names separated by commas. Each resource name has format \"namespace/resourcename\".  For cluster resources, simply use \"resourcename\".",
                      "additionalProperties": {
                        "type": [
                          "string",
                          "null"
                        ]
                      }
                    },
                    "snapshotVolumes": {
                      "description": "SnapshotVolumes specifies whether to take cloud snapshots of any PV's referenced in the set of objects included in the Backup."
                    },
                    "storageLocation": {
                      "description": "StorageLocation is a string containing the name of a BackupStorageLocation where the backup should be stored.",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "ttl": {
                      "description": "TTL is a time.Duration-parseable string describing how long the Backup should be retained for.",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "volumeSnapshotLocations": {
                      "description": "VolumeSnapshotLocations is a list containing names of VolumeSnapshotLocations associated with this backup.",
                      "type": [
                        "array",
                        "null"
                      ],
                      "items": {
                        "type": [
                          "string",
                          "null"
                        ]
                      }
                    }
                  },
                  "additionalProperties": false
                },
                "useOwnerReferencesInBackup": {
                  "description": "UseOwnerReferencesBackup specifies whether to use OwnerReferences on backups created by this Schedule."
                }
              },
              "additionalProperties": false
            },
            "status": {
              "description": "ScheduleStatus captures the current state of a Velero schedule",
              "type": [
                "object",
                "null"
              ],
              "properties": {
                "lastBackup": {
                  "description": "LastBackup is the last time a Backup was run for this Schedule schedule",
                  "format": "date-time"
                },
                "phase": {
                  "description": "Phase is the current phase of the Schedule",
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "New",
                    "Enabled",
                    "FailedValidation"
                  ]
                },
                "validationErrors": {
                  "description": "ValidationErrors is a slice of all validation errors (if applicable)",
                  "type": [
                    "array",
                    "null"
                  ],
                  "items": {
                    "type": [
                      "string",
                      "null"
                    ]
                  }
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "veleroScheduleManagedClusters": {
          "description": "Velero Schedule for backing up remote clusters",
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "apiVersion": {
              "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
              "type": [
                "string",
                "null"
              ]
            },
            "kind": {
              "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
              "type": [
                "string",
                "null"
              ]
            },
            "metadata": {
              "type": [
                "object",
                "null"
              ]
            },
            "spec": {
              "description": "ScheduleSpec defines the specification for a Velero schedule",
              "type": [
                "object",
                "null"
              ],
              "required": [
                "schedule",
                "template"
              ],
              "properties": {
                "schedule": {
                  "description": "Schedule is a Cron expression defining when to run the Backup.",
                  "type": "string"
                },
                "template": {
                  "description": "Template is the definition of the Backup to be run on the provided schedule",
                  "type": "object",
                  "properties": {
                    "defaultVolumesToRestic": {
                      "description": "DefaultVolumesToRestic specifies whether restic should be used to take a backup of all pod volumes by default.",
                      "type": [
                        "boolean",
                        "null"
                      ]
                    },
                    "excludedNamespaces": {
                      "description": "ExcludedNamespaces contains a list of namespaces that are not included in the backup."
                    },
                    "excludedResources": {
                      "description": "ExcludedResources is a slice of resource names that are not included in the backup."
                    },
                    "hooks": {
                      "description": "Hooks represent custom behaviors that should be executed at different phases of the backup.",
                      "type": [
                        "object",
                        "null"
                      ],
                      "properties": {
                        "resources": {
                          "description": "Resources are hooks that should be executed when backing up individual instances of a resource."
                        }
                      },
                      "additionalProperties": false
                    },
                    "includeClusterResources": {
                      "description": "IncludeClusterResources specifies whether cluster-scoped resources should be included for consideration in the backup."
                    },
                    "includedNamespaces": {
                      "description": "IncludedNamespaces is a slice of namespace names to include objects from. If empty, all namespaces are included."
                    },
                    "includedResources": {
                      "description": "IncludedResources is a slice of resource names to include in the backup. If empty, all resources are included."
                    },
                    "labelSelector": {
                      "description": "LabelSelector is a metav1.LabelSelector to filter with when adding individual objects to the backup. If empty or nil, all objects are included. Optional."
                    },
                    "metadata": {
                      "type": [
                        "object",
                        "null"
                      ],
                      "properties": {
                        "labels": {
                          "type": [
                            "object",
                            "null"
                          ],
                          "additionalProperties": {
                            "type": [
                              "string",
                              "null"
                            ]
                          }
                        }
                      },
                      "additionalProperties": false
                    },
                    "orLabelSelectors": {
                      "description": "OrLabelSelectors is list of metav1.LabelSelector to filter with when adding individual objects to the backup. If multiple provided they will be joined by the OR operator. LabelSelector as well as OrLabelSelectors cannot co-exist in backup request, only one of them can be used."
                    },
                    "orderedResources": {
                      "description": "OrderedResources specifies the backup order of resources of specific Kind. The map key is the Kind name and value is a list of resource names separated by commas. Each resource name has format \"namespace/resourcename\".  For cluster resources, simply use \"resourcename\".",
                      "additionalProperties": {
                        "type": [
                          "string",
                          "null"
                        ]
                      }
                    },
                    "snapshotVolumes": {
                      "description": "SnapshotVolumes specifies whether to take cloud snapshots of any PV's referenced in the set of objects included in the Backup."
                    },
                    "storageLocation": {
                      "description": "StorageLocation is a string containing the name of a BackupStorageLocation where the backup should be stored.",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "ttl": {
                      "description": "TTL is a time.Duration-parseable string describing how long the Backup should be retained for.",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "volumeSnapshotLocations": {
                      "description": "VolumeSnapshotLocations is a list containing names of VolumeSnapshotLocations associated with this backup.",
                      "type": [
                        "array",
                        "null"
                      ],
                      "items": {
                        "type": [
                          "string",
                          "null"
                        ]
                      }
                    }
                  },
                  "additionalProperties": false
                },
                "useOwnerReferencesInBackup": {
                  "description": "UseOwnerReferencesBackup specifies whether to use OwnerReferences on backups created by this Schedule."
                }
              },
              "additionalProperties": false
            },
            "status": {
              "description": "ScheduleStatus captures the current state of a Velero schedule",
              "type": [
                "object",
                "null"
              ],
              "properties": {
                "lastBackup": {
                  "description": "LastBackup is the last time a Backup was run for this Schedule schedule",
                  "format": "date-time"
                },
                "phase": {
                  "description": "Phase is the current phase of the Schedule",
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "New",
                    "Enabled",
                    "FailedValidation"
                  ]
                },
                "validationErrors": {
                  "description": "ValidationErrors is a slice of all validation errors (if applicable)",
                  "type": [
                    "array",
                    "null"
                  ],
                  "items": {
                    "type": [
                      "string",
                      "null"
                    ]
                  }
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        },
        "veleroScheduleResources": {
          "description": "Velero Schedule for backing up other resources",
          "type": [
            "object",
            "null"
          ],
          "properties": {
            "apiVersion": {
              "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
              "type": [
                "string",
                "null"
              ]
            },
            "kind": {
              "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
              "type": [
                "string",
                "null"
              ]
            },
            "metadata": {
              "type": [
                "object",
                "null"
              ]
            },
            "spec": {
              "description": "ScheduleSpec defines the specification for a Velero schedule",
              "type": [
                "object",
                "null"
              ],
              "required": [
                "schedule",
                "template"
              ],
              "properties": {
                "schedule": {
                  "description": "Schedule is a Cron expression defining when to run the Backup.",
                  "type": "string"
                },
                "template": {
                  "description": "Template is the definition of the Backup to be run on the provided schedule",
                  "type": "object",
                  "properties": {
                    "defaultVolumesToRestic": {
                      "description": "DefaultVolumesToRestic specifies whether restic should be used to take a backup of all pod volumes by default.",
                      "type": [
                        "boolean",
                        "null"
                      ]
                    },
                    "excludedNamespaces": {
                      "description": "ExcludedNamespaces contains a list of namespaces that are not included in the backup."
                    },
                    "excludedResources": {
                      "description": "ExcludedResources is a slice of resource names that are not included in the backup."
                    },
                    "hooks": {
                      "description": "Hooks represent custom behaviors that should be executed at different phases of the backup.",
                      "type": [
                        "object",
                        "null"
                      ],
                      "properties": {
                        "resources": {
                          "description": "Resources are hooks that should be executed when backing up individual instances of a resource."
                        }
                      },
                      "additionalProperties": false
                    },
                    "includeClusterResources": {
                      "description": "IncludeClusterResources specifies whether cluster-scoped resources should be included for consideration in the backup."
                    },
                    "includedNamespaces": {
                      "description": "IncludedNamespaces is a slice of namespace names to include objects from. If empty, all namespaces are included."
                    },
                    "includedResources": {
                      "description": "IncludedResources is a slice of resource names to include in the backup. If empty, all resources are included."
                    },
                    "labelSelector": {
                      "description": "LabelSelector is a metav1.LabelSelector to filter with when adding individual objects to the backup. If empty or nil, all objects are included. Optional."
                    },
                    "metadata": {
                      "type": [
                        "object",
                        "null"
                      ],
                      "properties": {
                        "labels": {
                          "type": [
                            "object",
                            "null"
                          ],
                          "additionalProperties": {
                            "type": [
                              "string",
                              "null"
                            ]
                          }
                        }
                      },
                      "additionalProperties": false
                    },
                    "orLabelSelectors": {
                      "description": "OrLabelSelectors is list of metav1.LabelSelector to filter with when adding individual objects to the backup. If multiple provided they will be joined by the OR operator. LabelSelector as well as OrLabelSelectors cannot co-exist in backup request, only one of them can be used."
                    },
                    "orderedResources": {
                      "description": "OrderedResources specifies the backup order of resources of specific Kind. The map key is the Kind name and value is a list of resource names separated by commas. Each resource name has format \"namespace/resourcename\".  For cluster resources, simply use \"resourcename\".",
                      "additionalProperties": {
                        "type": [
                          "string",
                          "null"
                        ]
                      }
                    },
                    "snapshotVolumes": {
                      "description": "SnapshotVolumes specifies whether to take cloud snapshots of any PV's referenced in the set of objects included in the Backup."
                    },
                    "storageLocation": {
                      "description": "StorageLocation is a string containing the name of a BackupStorageLocation where the backup should be stored.",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "ttl": {
                      "description": "TTL is a time.Duration-parseable string describing how long the Backup should be retained for.",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "volumeSnapshotLocations": {
                      "description": "VolumeSnapshotLocations is a list containing names of VolumeSnapshotLocations associated with this backup.",
                      "type": [
                        "array",
                        "null"
                      ],
                      "items": {
                        "type": [
                          "string",
                          "null"
                        ]
                      }
                    }
                  },
                  "additionalProperties": false
                },
                "useOwnerReferencesInBackup": {
                  "description": "UseOwnerReferencesBackup specifies whether to use OwnerReferences on backups created by this Schedule."
                }
              },
              "additionalProperties": false
            },
            "status": {
              "description": "ScheduleStatus captures the current state of a Velero schedule",
              "type": [
                "object",
                "null"
              ],
              "properties": {
                "lastBackup": {
                  "description": "LastBackup is the last time a Backup was run for this Schedule schedule",
                  "format": "date-time"
                },
                "phase": {
                  "description": "Phase is the current phase of the Schedule",
                  "type": [
                    "string",
                    "null"
                  ],
                  "enum": [
                    "New",
                    "Enabled",
                    "FailedValidation"
                  ]
                },
                "validationErrors": {
                  "description": "ValidationErrors is a slice of all validation errors (if applicable)",
                  "type": [
                    "array",
                    "null"
                  ],
                  "items": {
                    "type": [
                      "string",
                      "null"
                    ]
                  }
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  },
  "x-kubernetes-group-version-kind": [
    {
      "group": "cluster.open-cluster-management.io",
      "kind": "BackupSchedule",
      "version": "v1beta1"
    }
  ],
  "additionalProperties": false,
  "$schema": "http://json-schema.org/schema#"
}